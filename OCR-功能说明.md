# 📸 图片 OCR 识别功能说明

## 🎯 功能概述

已将文字识别功能升级为**纯前端图片 OCR 识别**,支持:
- ✅ 上传图片识别
- ✅ 粘贴图片识别 (Ctrl+V)
- ✅ 直接粘贴文字识别
- ✅ 完全在浏览器中处理,无需后端

## 🚀 使用方法

### 方式 1: 上传图片
1. 点击"添加产品"按钮
2. 在"智能识别"区域点击"点击上传图片"
3. 选择产品图片 (支持 PNG, JPG, JPEG)
4. 点击"🔍 智能识别产品信息"按钮
5. 等待识别完成,自动填充产品信息

### 方式 2: 粘贴图片
1. 点击"添加产品"按钮
2. 复制产品图片 (截图或从其他地方复制)
3. 在"智能识别"区域按 `Ctrl+V` 粘贴
4. 点击"🔍 智能识别产品信息"按钮
5. 等待识别完成,自动填充产品信息

### 方式 3: 粘贴文字
1. 点击"添加产品"按钮
2. 在文本框中粘贴产品文字信息
3. 点击"🔍 智能识别产品信息"按钮
4. 自动提取产品名称和价格

## 🔧 技术实现

### 使用的技术
- **Tesseract.js**: 开源 OCR 引擎,支持中文和英文识别
- **纯前端处理**: 所有识别在浏览器中完成,保护隐私
- **动态加载**: OCR 引擎按需加载,不影响页面初始加载速度

### 识别规则
1. **产品名称**: 提取第一行包含中文的较长文字
2. **价格**: 识别 `¥` 符号、`元` 字、或"供货价"关键词附近的数字
3. **规格**: 识别包含 `*` 或 `×` 以及 `g` 或 `克` 的行

## 🌐 浏览器兼容性

### 完全支持
- ✅ Chrome / Edge (推荐)
- ✅ Firefox
- ✅ Safari
- ✅ Opera

### 系统要求
- 现代浏览器 (支持 ES6+)
- 建议使用最新版本浏览器以获得最佳性能

## 📝 识别示例

### 示例 1: 图片识别
上传包含以下内容的产品图片:
```
百草味坚果有礼（臻选礼）1075g坚果零食礼盒
规格：坚果有礼-臻选礼1075g*1盒
供货价：¥39.00
```

识别结果:
- 产品名称: `百草味坚果有礼（臻选礼）1075g坚果零食礼盒`
- 供货价: `39.00`

### 示例 2: 文字识别
粘贴以下文字:
```
红色礼盒A款
供货价 47.3元
```

识别结果:
- 产品名称: `红色礼盒A款`
- 供货价: `47.3`

## ⚠️ 注意事项

1. **图片质量**: 
   - 建议使用清晰的图片
   - 文字应该清晰可见
   - 避免模糊、倾斜或光线不足的图片

2. **识别准确度**:
   - OCR 识别准确度取决于图片质量
   - 识别后请检查并手动调整信息
   - 复杂背景可能影响识别效果

3. **首次使用**:
   - 首次识别时会下载 OCR 语言包 (~2-3MB)
   - 请确保网络连接正常
   - 后续使用会使用缓存,速度更快

4. **隐私保护**:
   - 所有识别在本地浏览器完成
   - 图片不会上传到服务器
   - 完全保护您的数据隐私

## 🐛 常见问题

### Q: 识别速度慢?
A: 首次使用需要下载语言包,后续会更快。建议使用清晰的图片以提高识别速度。

### Q: 识别不准确?
A: 请确保:
- 图片清晰,文字可见
- 文字没有严重倾斜
- 光线充足,对比度好
- 识别后手动检查并调整

### Q: 无法识别中文?
A: Tesseract.js 已配置中文简体支持,如果无法识别,请检查:
- 浏览器控制台是否有错误
- 网络连接是否正常
- 尝试刷新页面重试

### Q: 支持哪些图片格式?
A: 支持常见的图片格式:
- PNG
- JPG / JPEG
- 其他浏览器支持的图片格式

## 🔄 更新日志

### v2.0.0 (当前版本)
- ✨ 新增图片 OCR 识别功能
- ✨ 支持图片上传和粘贴
- ✨ 使用 Tesseract.js 纯前端识别
- ✨ 改进 UI,添加图片预览
- ✨ 优化识别规则和准确度
- 🔒 完全本地处理,保护隐私

### v1.0.0
- 基础文字识别功能
- 后端 API 处理

## 📞 技术支持

如有问题或建议,请:
1. 查看浏览器控制台错误信息
2. 检查网络连接
3. 尝试使用不同的图片
4. 联系技术支持团队
