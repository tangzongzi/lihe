# 🚀 快速开始 - OCR 图片识别

## 📦 安装依赖

项目已经包含 `tesseract.js` 依赖,无需额外安装。

如果需要重新安装:
```bash
pnpm install
```

## 🎮 启动项目

```bash
pnpm run dev
```

访问: `http://localhost:3000`

## 💡 使用步骤

### 1️⃣ 打开添加产品对话框
点击页面上的 **"+ 添加产品"** 按钮

### 2️⃣ 选择识别方式

#### 方式 A: 上传图片 📤
1. 点击 **"点击上传图片"**
2. 选择产品图片文件
3. 图片会显示预览
4. 点击 **"🔍 智能识别产品信息"**

#### 方式 B: 粘贴图片 📋
1. 复制产品图片 (截图或从其他地方复制)
2. 在上传区域按 `Ctrl+V` 粘贴
3. 图片会显示预览
4. 点击 **"🔍 智能识别产品信息"**

#### 方式 C: 粘贴文字 ✍️
1. 在文本框中粘贴产品文字信息
2. 点击 **"🔍 智能识别产品信息"**

### 3️⃣ 等待识别
- 首次使用会下载 OCR 语言包 (~2-3MB)
- 识别过程中会显示 "识别中..." 状态
- 通常需要 3-10 秒

### 4️⃣ 检查结果
- 识别完成后会自动填充:
  - 产品名称
  - 供货价
- 请检查并手动调整不准确的信息

### 5️⃣ 完成添加
- 填写或调整其他信息
- 点击 **"添加产品"** 按钮

## 📸 测试图片示例

创建一个包含以下内容的图片进行测试:

```
百草味坚果有礼（臻选礼）1075g坚果零食礼盒
规格：坚果有礼-臻选礼1075g*1盒
供货价：¥39.00
```

或者:

```
红色礼盒A款
供货价 47.3元
店铺售价 68元
```

## 🎯 识别效果优化建议

### ✅ 好的图片特征
- 文字清晰可见
- 背景简单干净
- 光线充足
- 文字水平排列
- 对比度高

### ❌ 避免的图片特征
- 模糊不清
- 文字倾斜严重
- 背景复杂
- 光线不足
- 文字太小

## 🔧 开发者信息

### 技术栈
- **Next.js 16**: React 框架
- **Tesseract.js 7.0**: OCR 引擎
- **TypeScript**: 类型安全
- **Tailwind CSS**: 样式

### 关键文件
- `src/app/page.tsx`: 主页面组件,包含 OCR 功能
- `package.json`: 依赖配置

### OCR 配置
```typescript
await Tesseract.recognize(
  selectedImage,
  'chi_sim+eng', // 中文简体 + 英文
  {
    logger: (m) => {
      if (m.status === 'recognizing text') {
        console.log(`OCR 进度: ${Math.round(m.progress * 100)}%`);
      }
    },
  }
);
```

## 🐛 故障排除

### 问题: 识别失败
**解决方案:**
1. 检查浏览器控制台错误
2. 确保网络连接正常 (首次需要下载语言包)
3. 尝试刷新页面
4. 使用更清晰的图片

### 问题: 识别速度慢
**解决方案:**
1. 首次使用需要下载语言包,请耐心等待
2. 后续使用会使用缓存,速度会快很多
3. 使用较小的图片可以提高速度
4. 确保图片质量适中 (不要太大)

### 问题: 识别不准确
**解决方案:**
1. 使用更清晰的图片
2. 确保文字水平排列
3. 提高图片对比度
4. 手动调整识别结果

### 问题: 无法上传图片
**解决方案:**
1. 检查图片格式 (支持 PNG, JPG, JPEG)
2. 检查图片大小 (建议 < 5MB)
3. 尝试使用粘贴方式
4. 检查浏览器权限

## 📊 性能优化

### 已实现的优化
- ✅ 动态导入 Tesseract.js (按需加载)
- ✅ 浏览器缓存语言包
- ✅ 前端处理,无服务器压力
- ✅ 异步识别,不阻塞 UI

### 建议的图片大小
- 宽度: 800-1200px
- 高度: 600-900px
- 文件大小: < 2MB
- 格式: PNG 或 JPG

## 🌟 功能特点

1. **完全本地处理** - 图片不上传服务器,保护隐私
2. **支持中英文** - 同时识别中文和英文
3. **多种输入方式** - 上传、粘贴图片或文字
4. **实时预览** - 上传后立即显示图片预览
5. **智能提取** - 自动识别产品名称和价格
6. **用户友好** - 清晰的 UI 和操作提示

## 📞 需要帮助?

如果遇到问题:
1. 查看 `OCR-功能说明.md` 详细文档
2. 检查浏览器控制台错误信息
3. 尝试使用测试页面 `test-text-recognize.html`
4. 联系开发团队

---

**祝使用愉快! 🎉**
